<!doctype html>
<html>
<head>
<meta charset="utf-8" />
<script language="javascript">
// Concentration Memory Game - Head Script
// copyright Stephen Chapman, 5th August 2005
// you may copy this script provided that you retain the copyright notice

var ch1, ch2, tmr, tno, tid, cid, cnt, tile = new Array();

function randOrd(a, b)
{
	return (Math.round(Math.random())-0.5);
}

function displayBack(i)
{
	document.getElementById('t'+i).innerHTML = '<div class="back card" onclick="disp('+i+');return false;"><\/div>';
}

function begin()
{
	document.getElementById('vegeido').innerHTML = "";
	clearTimeout(tid);
	document.getElementById('div').style.display = "";
	document.getElementById('inditas').style.display = "none";
	ch1 = "";
	ch2 = "";
	tmr = "";
	tno = "";
	tid = "";
	cid = "";
	cnt = "";
	tile = "";
	tile = new Array();
	for (var i = 0; i < 18; i++)
	{
		tile[i] = '<div class="cf card">'+ String.fromCharCode((i%6)+65) + '<\/div>';
		tile[i+18] = tile[i];
	}
	for (var i = 0; i <= 35 ;i++) displayBack(i);
	if (tid) clearInterval(tid);
	tmr = tno = cnt = 0;
	tile.sort( randOrd );
	cntr();
	tid = setInterval('cntr()', 1000);
 }
 
 function cntr()
 {
	 var min = Math.floor(tmr/60);
	 var sec = tmr%60;
	 document.getElementById('cnt').innerHTML = min+':'+ (sec<10 ? '0' : '') + sec;
	 tmr++;
}

function disp(sel)
{
	if (tno>1)
	{
		clearTimeout(cid);
		conceal();
	}
	
	document.getElementById('t'+sel).innerHTML = tile[sel];
	
	if (tno==0) ch1 = sel;
	else
	{
		ch2 = sel;
		cid = setTimeout('conceal()', 900);
	}
	
	tno++;
}

function conceal()
{
	tno = 0;
	if (tile[ch1] != tile[ch2])
	{
		displayBack(ch1);
		displayBack(ch2);
	}
	else cnt++;
	if (cnt >= 18)
	{
		clearInterval(tid);
		document.getElementById('div').style.display = "none";
		document.getElementById('inditas').style.display = "";
		document.getElementById('vegeido').innerHTML = "<strong style='font-size: 22px; color: #00F'>"+document.getElementById('cnt').innerHTML+"</strong><br />";
	}
}
</script>
<style>
.card
{
	margin:2px;
	padding:2px;
	width:30px;
	height:30px;
	border: solid 1px #f00;
	font: bold 16pt verdana,arial,sans-serif;
}

.back
{
	background:#ccc;
	font;cursor:hand;
}

.cf
{
	background:#ff0;
	color:#00f;
}
</style>
</head>
<body>
<center>
<div style="display:none" id="div">
<table cellpadding="0" cellspacing="0" border="0">
<script language="javascript">
for (var a = 0; a <= 5; a++)
{
	document.write('<tr>');
	for (var b = 0; b <= 5; b++) { document.write('<td align="center" id="t'+((6*a)+b)+'"></td>'); }
	document.write('<\/tr>');
}
</script>
</table>
<a id="cnt">0:00</a> || <input type="button" onclick="begin()" value="Új játék!" />
</div>
<a id="vegeido"></a><br />
<input type="button" onclick="begin()" value="Indítás!" id="inditas" style="width:65px; height:50px" />
</center>
</body>
</html>
